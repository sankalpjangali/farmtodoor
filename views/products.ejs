<% layout('layout') %>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .filter-sidebar {
            background-color: #f8f9fa;
            padding: 20px;
            height: 100vh;
        }
        .product-card {
            background-color: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 20px;
        }
        .product-image {
            background-color: #e9ecef;
            height: 120px;
            border-radius: 4px;
        }
        .pagination {
            justify-content: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Filters Sidebar -->
            <div class="col-md-3 col-lg-2 filter-sidebar">
                <h5 class="font-weight-bold">Filters</h5>
                <div class="mb-4">
                    <h6>Categories</h6>
                    <input type="text" class="form-control" placeholder="Search categories...">
                </div>
                <div class="mb-4">
                    <h6>Price Range</h6>
                    <input type="text" class="form-control" placeholder="Enter price range...">
                </div>
                <div class="mb-4">
                    <h6>Farming Method</h6>
                    <input type="text" class="form-control" placeholder="Search farming methods...">
                </div>
            </div>

            <!-- Product Grid -->
            <div class="col-md-9 col-lg-10">
                <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 mt-4">
                <% farmers.forEach(farmer => { %>
                     <% farmer.products.forEach(product => { %>
                    <!-- Product Card 1 -->
                    <div class="col">
                        <div class="product-card">
                            <div class="product-image"></div>
                            <h6 class="mt-2 font-weight-bold"><%= product.name %></h6>
                            <p class="text-muted"><%= product.category %></p>
                            <p class="text-muted"><%= product.description %></p>
                            <p class="text-success">
                                $<%= product.price %>
                                <% if (product.category == 'Poultry') { %>
                                    /bunch
                                <% } else if (product.category == 'Beekeeping' || product.category == 'Dairy' || product.category == 'Herbs') { %>
                                    /ML
                                <% } else { %>
                                    /KG
                                <% } %>
                            </p>
                            <button class="btn btn-success w-100">Add to Cart</button>
                        </div>
                    </div>
                    <% }) %>
                    <% }) %>
                    <br>
                    <!-- Product Card 2 -->
                                    <!-- Pagination -->
                
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>